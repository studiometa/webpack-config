{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/deepmerge/dist/cjs.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/nanoid/non-secure/index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@studiometa/js-toolkit/utils/object/getAllProperties.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/EventManager.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/utils.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/children.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/options.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/refs.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/components.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Service.js","webpack:///./node_modules/@studiometa/js-toolkit/utils/throttle.js","webpack:///./node_modules/@studiometa/js-toolkit/utils/debounce.js","webpack:///./node_modules/@studiometa/js-toolkit/utils/nextFrame.js","webpack:///./node_modules/@studiometa/js-toolkit/services/raf.js","webpack:///./node_modules/@studiometa/js-toolkit/services/pointer.js","webpack:///./node_modules/@studiometa/js-toolkit/services/resize.js","webpack:///./node_modules/@studiometa/js-toolkit/services/scroll.js","webpack:///./node_modules/@studiometa/js-toolkit/utils/keyCodes.js","webpack:///./node_modules/@studiometa/js-toolkit/services/key.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/services.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/events.js","webpack:///./node_modules/@studiometa/js-toolkit/abstracts/Base/index.js","webpack:///./node_modules/@studiometa/js-toolkit/utils/object/autoBind.js","webpack:///./src/js/app.js","webpack:///./node_modules/@studiometa/js-toolkit/index.js"],"names":["module","exports","self","ReferenceError","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_defineProperties","target","props","i","length","descriptor","Constructor","protoProps","staticProps","prototype","instance","TypeError","_typeof","assertThisInitialized","call","subClass","superClass","create","constructor","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","arrayWithHoles","iterableToArrayLimit","nonIterableRest","isMergeableObject","isNonNullObject","stringValue","toString","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","val","Array","isArray","defaultArrayMerge","source","concat","map","element","getKeys","keys","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","object","property","_","mergeObject","destination","forEach","hasOwnProperty","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","all","array","Error","reduce","prev","next","deepmerge_1","len","arr2","arrayLikeToArray","minLen","n","slice","name","from","test","url","toUpperCase","size","id","Math","random","iter","iterator","_setPrototypeOf","p","_arr","_n","_d","_e","undefined","_s","_i","done","push","err","getAllProperties","arguments","proto","getOwnPropertyNames","acc","EventManager","this","event","listener","_this","_events","$off","index","indexOf","splice","_this2","_len","args","_key","apply","$on","handler","_len2","_key2","debug","$options","window","console","log","config","hasMethod","callMethod","method","_instance$method","$isMounted","$emit","getChildren","components","children","entries","_ref","_ref2","ComponentClass","selector","elements","querySelectorAll","el","parent","__base__","__isBase__","child","get","asyncComponent","then","ResolvedClass","default","__isAsync__","getChild","getOptions","dataset","JSON","parse","setOptions","newOptions","stringify","getRefs","allRefs","childrenRefs","refs","ref","includes","$refs","$ref","refName","$realRef","endsWith","replace","mountComponent","component","$mount","mountComponents","$children","values","$child","destroyComponent","$destroy","Service","callbacks","Map","isInit","callback","has","init","set","delete","kill","throttle","fn","delay","lastCall","now","Date","getTime","debounce","timeout","clearTimeout","setTimeout","getRaf","requestAnimationFrame","bind","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","e","_isNativeReflectConstruct","result","Super","NewTarget","_Service","Raf","_super","raf","isTicking","loop","trigger","time","performance","add","remove","Pointer","innerHeight","innerWidth","_useRaf","hasRaf","debounced","updateValues","downHandler","upHandler","document","documentElement","addEventListener","once","passive","removeEventListener","isDown","yLast","y","xLast","x","touches","clientY","clientX","changed","last","delta","progress","max","pointer","Resize","canUseResizeObserver","resizeObserver","ResizeObserver","observe","disconnect","width","height","ratio","orientation","breakpointElement","breakpoint","breakpoints","querySelector","getComputedStyle","getPropertyValue","split","resize","Scroll","pageYOffset","pageXOffset","Promise","resolve","nextFrame","scrollingElement","body","scrollWidth","scrollHeight","ENTER","SPACE","TAB","ESC","LEFT","UP","RIGHT","DOWN","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","Key","_this3","keyCodes","code","keyCode","previousEvent","type","triggered","getOwnPropertyDescriptors","defineProperties","_objectSpread","direction","isUp","initService","service","_service","$id","bindServices","unbindMethods","loadedHandler","bindEvents","ROOT_EVENT_REGEX","REFS_CHILDREN_EVENT_REGEX","eventMethods","_ref5","root","refsOrChildren","eventMethod","eventName","toLowerCase","$el","bindRootEvents","$refOrRefs","refEventMethod","c","startsWith","bindRefsEvents","_ref3","_ref4","childName","childEventMethod","unbindMethod","_len3","_key3","bindChildrenEvents","_EventManager","Base","include","exclude","match","pattern","some","autoBind","_excludeFromAutoBind","__isChild__","App","content","innerHTML"],"mappings":"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","file":"js/app.js","sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 0â€“9 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\n/**\n * Generate URL-friendly unique ID. This method use non-secure predictable\n * random generator with bigger collision probability.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid/non-secure')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nonSecure\n * @function\n */\nmodule.exports = function (size) {\n  var id = ''\n  i = size || 21\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // `| 0` is compact and faster alternative for `Math.floor()`\n    id += url[Math.random() * 64 | 0]\n  }\n  return id\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\n/**\n * Gets all non-builtin properties up the prototype chain.\n *\n * @param  {Object} object The object to get the propeties from.\n * @param  {Array}  props  The already existing properties.\n * @return {Array}         An array of properties and their value.\n */\nexport default function getAllProperties(object) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var proto = Object.getPrototypeOf(object);\n\n  if (proto === Object.prototype) {\n    return props;\n  }\n\n  return getAllProperties(proto, Object.getOwnPropertyNames(proto).map(function (name) {\n    return [name, proto];\n  }).reduce(function (acc, val) {\n    return [].concat(_toConsumableArray(acc), [val]);\n  }, props));\n}\n//# sourceMappingURL=getAllProperties.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n/* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_events\"] }] */\n\n/**\n * Event management class.\n *\n * @method $on    Bind a given function to the given event.\n * @method $off   Unbind the given function from the given event.\n * @method $once  Bind a given function to the given event once.\n * @method $emit  Emit an event with custom props.\n */\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    _classCallCheck(this, EventManager);\n\n    _defineProperty(this, \"_events\", {});\n  }\n\n  _createClass(EventManager, [{\n    key: \"$on\",\n\n    /**\n     * Bind a listener function to an event.\n     *\n     * @param  {String}   event    Name of the event.\n     * @param  {String}   listener Function to be called.\n     * @return {Function}          A function to unbind the listener.\n     */\n    value: function $on(event, listener) {\n      var _this = this;\n\n      if (!Array.isArray(this._events[event])) {\n        this._events[event] = [];\n      }\n\n      this._events[event].push(listener);\n\n      return function () {\n        _this.$off(event, listener);\n      };\n    }\n    /**\n     * Unbind a listener function from an event.\n     *\n     * @param  {String}       event    Name of the event.\n     * @param  {String}       listener Function to be removed.\n     * @return {EventManager}          The current instance.\n     */\n\n  }, {\n    key: \"$off\",\n    value: function $off(event, listener) {\n      // If no event specified, we remove them all.\n      if (!event) {\n        this._events = {};\n        return this;\n      } // If no listener have been specified, we remove all\n      // the listeners for the given event.\n\n\n      if (!listener) {\n        this._events[event] = [];\n        return this;\n      }\n\n      var index = this._events[event].indexOf(listener);\n\n      if (index > -1) {\n        this._events[event].splice(index, 1);\n      }\n\n      return this;\n    }\n    /**\n     * Emits an event.\n     *\n     * @param  {String}       event Name of the event.\n     * @param  {Array}        args  The arguments to apply to the functions bound to this event.\n     * @return {EventManager}       The current instance.\n     */\n\n  }, {\n    key: \"$emit\",\n    value: function $emit(event) {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (!Array.isArray(this._events[event])) {\n        return this;\n      }\n\n      this._events[event].forEach(function (listener) {\n        listener.apply(_this2, args);\n      });\n\n      return this;\n    }\n    /**\n     * Bind a listener function to an event for one execution only.\n     *\n     * @param  {String}       event    Name of the event.\n     * @param  {String}       listener Function to be called.\n     * @return {EventManager}          The current instance.\n     */\n\n  }, {\n    key: \"$once\",\n    value: function $once(event, listener) {\n      var instance = this;\n      this.$on(event, function handler() {\n        instance.$off(event, handler);\n\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        listener.apply(instance, args);\n      });\n      return this;\n    }\n  }]);\n\n  return EventManager;\n}();\n\nexport { EventManager as default };\n//# sourceMappingURL=EventManager.js.map","/**\n * Verbose debug for the component.\n *\n * @param  {...any} args The arguments passed to the method\n * @return {void}\n */\nexport function debug(instance) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return instance.$options.debug ? window.console.log.apply(window, [instance.config.name].concat(args)) : function () {};\n}\n/**\n * Test if an object has a method.\n *\n * @param  {Object}  obj The object to test\n * @param  {String}  fn  The method's name\n * @return {Boolean}\n */\n\nexport function hasMethod(obj, name) {\n  return typeof obj[name] === 'function';\n}\n/**\n * Call the given method while applying the given arguments.\n *\n * @param {String} method The method to call\n * @param {...any} args   The arguments to pass to the method\n */\n\nexport function callMethod(instance, method) {\n  var _instance$method;\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  debug.apply(void 0, [instance, 'callMethod', method].concat(args)); // Prevent duplicate call of `mounted` and `destroyed`\n  // methods based on the component status\n\n  if (method === 'destroyed' && !instance.$isMounted || method === 'mounted' && instance.$isMounted) {\n    debug(instance, 'not', method, 'because the method has already been triggered once.');\n    return instance;\n  }\n\n  instance.$emit.apply(instance, [method].concat(args)); // We always emit an event, but we do not call the method if it does not exist\n\n  if (!hasMethod(instance, method)) {\n    return instance;\n  }\n\n  (_instance$method = instance[method]).call.apply(_instance$method, [instance].concat(args));\n\n  debug.apply(void 0, [instance, method, instance].concat(args));\n  return instance;\n}\n//# sourceMappingURL=utils.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\n/**\n * Get a child component.\n *\n * @param  {HTMLElement}  el             The root element of the child component.\n * @param  {Base|Promise} ComponentClass A Base class or a Promise for async components.\n * @param  {Base}         parent         The parent component instance.\n * @return {Base|Promise}                A Base instance or a Promise resolving to a Base instance.\n */\nfunction getChild(el, ComponentClass, parent) {\n  // Return existing instance if it exists\n  if (el.__base__) {\n    return el.__base__;\n  } // Return a new instance if the component class is a child of the Base class\n\n\n  if (ComponentClass.__isBase__) {\n    Object.defineProperty(ComponentClass.prototype, '__isChild__', {\n      value: true\n    });\n    var child = new ComponentClass(el);\n    Object.defineProperty(child, '$parent', {\n      get: function get() {\n        return parent;\n      }\n    });\n    return child;\n  } // Resolve async components\n\n\n  var asyncComponent = ComponentClass().then(function (module) {\n    var ResolvedClass = module.default ? module.default : module;\n    Object.defineProperty(ResolvedClass.prototype, '__isChild__', {\n      value: true\n    });\n    var child = new ResolvedClass(el);\n    Object.defineProperty(child, '$parent', {\n      get: function get() {\n        return parent;\n      }\n    });\n    return child;\n  });\n  asyncComponent.__isAsync__ = true;\n  return asyncComponent;\n}\n/**\n *\n * @param  {Base}        instance   The component's instance.\n * @param  {HTMLElement} element    The component's root element\n * @param  {Object}      components The children components' classes\n * @return {null|Object}            Returns `null` if no child components are defined or an object of all child component instances\n */\n\n\nexport function getChildren(instance, element, components) {\n  var children = Object.entries(components).reduce(function (acc, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        name = _ref2[0],\n        ComponentClass = _ref2[1];\n\n    var selector = \"[data-component=\\\"\".concat(name, \"\\\"]\");\n    var elements = Array.from(element.querySelectorAll(selector)); // If no child component found with the default selector, the name must be a DOM selector\n\n    if (elements.length === 0) {\n      elements = Array.from(element.querySelectorAll(name));\n    }\n\n    if (elements.length === 0) {\n      return acc;\n    }\n\n    acc[name] = elements.map(function (el) {\n      return getChild(el, ComponentClass, instance);\n    }) // Filter out terminated children\n    .filter(function (el) {\n      return el !== 'terminated';\n    });\n\n    if (acc[name].length === 0) {\n      delete acc[name];\n    }\n\n    return acc;\n  }, {});\n  instance.$emit('get:children', children);\n  return children;\n}\nexport default {\n  getChildren: getChildren\n};\n//# sourceMappingURL=children.js.map","import merge from 'deepmerge';\n/**\n * Get a component's options.\n *\n * @param  {Base}        instance The component's instance.\n * @param  {HTMLElement} element  The component's root element.\n * @param  {Object}      config   The component's default config.\n * @return {Object}               The component's merged options.\n */\n\nexport function getOptions(instance, element, config) {\n  var options = {};\n\n  if (element.dataset.options) {\n    try {\n      options = JSON.parse(element.dataset.options);\n    } catch (err) {\n      throw new Error('Can not parse the `data-options` attribute. Is it a valid JSON string?');\n    }\n  }\n\n  options = merge(config, options);\n  instance.$emit('get:options', options);\n  return options;\n}\n/**\n * Set a component instance options.\n *\n * @param {Base}        instance   The component's instance.\n * @param {HTMLElement} element    The component's root element.\n * @param {Object}      newOptions The new options object.\n */\n\nexport function setOptions(instance, element, newOptions) {\n  var options = {};\n\n  if (element.dataset.options) {\n    try {\n      options = JSON.parse(element.dataset.options);\n    } catch (err) {\n      throw new Error('Can not parse the `data-options` attribute. Is it a valid JSON string?');\n    }\n  }\n\n  options = merge(options, newOptions);\n  element.dataset.options = JSON.stringify(options);\n}\nexport default {\n  getOptions: getOptions,\n  setOptions: setOptions\n};\n//# sourceMappingURL=options.js.map","/**\n * Get all refs of a component.\n *\n * @param  {Base}        instance The component's instance.\n * @param  {HTMLElement} element  The component's root element.\n * @return {Object}               Return an object containing all the component's refs.\n */\nexport function getRefs(instance, element) {\n  var allRefs = Array.from(element.querySelectorAll(\"[data-ref]\"));\n  var childrenRefs = Array.from(element.querySelectorAll(\":scope [data-component] [data-ref]\"));\n  var elements = allRefs.filter(function (ref) {\n    return !childrenRefs.includes(ref);\n  });\n  var refs = elements.reduce(function ($refs, $ref) {\n    var refName = $ref.dataset.ref;\n    var $realRef = $ref.__base__ ? $ref.__base__ : $ref;\n\n    if (refName.endsWith('[]')) {\n      refName = refName.replace(/\\[\\]$/, '');\n\n      if (!$refs[refName]) {\n        $refs[refName] = [];\n      }\n    }\n\n    if ($refs[refName]) {\n      if (Array.isArray($refs[refName])) {\n        $refs[refName].push($realRef);\n      } else {\n        $refs[refName] = [$refs[refName], $realRef];\n      }\n    } else {\n      $refs[refName] = $realRef;\n    }\n\n    return $refs;\n  }, {});\n  instance.$emit('get:refs', refs);\n  return refs;\n}\nexport default {\n  getRefs: getRefs\n};\n//# sourceMappingURL=refs.js.map","import { debug } from './utils';\n/**\n * Mount a given component which might be async.\n *\n * @param  {Base|Promise} component The component to mount.\n * @return {void}\n */\n\nfunction mountComponent(component) {\n  if (component.__isAsync__) {\n    component.then(function (instance) {\n      return instance.$mount();\n    });\n  } else {\n    component.$mount();\n  }\n}\n/**\n * Mount children components of a given instance.\n *\n * @param  {Base} instance The parent component's instance.\n * @return {void}\n */\n\n\nexport function mountComponents(instance) {\n  if (!instance.$children) {\n    return;\n  }\n\n  debug(instance, 'mountComponents', instance.$children);\n  Object.values(instance.$children).forEach(function ($child) {\n    $child.forEach(mountComponent);\n  });\n}\n/**\n * Destroy a given component which might be async.\n *\n * @param  {Base|Promise} component The component to destroy.\n * @return {void}\n */\n\nfunction destroyComponent(component) {\n  if (component.__isAsync__) {\n    component.then(function (instance) {\n      return instance.$destroy();\n    });\n  } else {\n    component.$destroy();\n  }\n}\n/**\n * Destroy children components of a given instance.\n *\n * @param  {Base} instance The parent component's instance.\n * @return {void}\n */\n\n\nexport function destroyComponents(instance) {\n  if (!instance.$children) {\n    return;\n  }\n\n  debug(instance, 'destroyComponents', instance.$children);\n  Object.values(instance.$children).forEach(function ($child) {\n    $child.forEach(destroyComponent);\n  });\n}\n//# sourceMappingURL=components.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * Service abstract class\n */\nvar Service = /*#__PURE__*/function () {\n  /**\n   * Class constructor, used to test the abstract class implementation.\n   *\n   * @return {Service} The current instance\n   */\n  function Service() {\n    _classCallCheck(this, Service);\n\n    this.callbacks = new Map();\n    this.isInit = false;\n  }\n  /**\n   * Getter to get the services properties.\n   * This getter MUST be implementer by the service extending this class.\n   * @return {Object}\n   */\n\n\n  _createClass(Service, [{\n    key: \"init\",\n\n    /**\n     * Method to initialize the service behaviors.\n     * This method MUST be implemented by the service extending this class.\n     *\n     * @return {Service} The current instance\n     */\n    value: function init() {\n      throw new Error('The `init` method must be implemented.');\n    }\n    /**\n     * Method to kill the service behaviors.\n     * This method MUST be implemented by the service extending this class.\n     *\n     * @return {Service} The current instance\n     */\n\n  }, {\n    key: \"kill\",\n    value: function kill() {\n      throw new Error('The `kill` method must be implemented.');\n    }\n    /**\n     * Add a callback.\n     *\n     * @param  {String}   key      The callback's identifier\n     * @param  {Function} callback The callback function\n     * @return {Service}           The current instance\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(key, callback) {\n      if (this.has(key)) {\n        throw new Error(\"A callback with the key `\".concat(key, \"` has already been registered.\"));\n      } // Initialize the service when we add the first callback\n\n\n      if (this.callbacks.size === 0 && !this.isInit) {\n        this.init();\n        this.isInit = true;\n      }\n\n      this.callbacks.set(key, callback);\n      return this;\n    }\n    /**\n     * Test if a callback with the given key has already been added.\n     *\n     * @param  {String}  key The identifier to test\n     * @return {Boolean}     Whether or not the identifier already exists\n     */\n\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this.callbacks.has(key);\n    }\n    /**\n     * Get the callback tied to the given key.\n     *\n     * @param  {String}   key The identifier to get\n     * @return {Function}     The callback function\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this.callbacks.get(key);\n    }\n    /**\n     * Remove the callback tied to the given key.\n     *\n     * @param  {String} key The identifier to remove\n     * @return {Service}    The current instance\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      this.callbacks.delete(key); // Kill the service when we remove the last callback\n\n      if (this.callbacks.size === 0 && this.isInit) {\n        this.kill();\n        this.isInit = false;\n      }\n\n      return this;\n    }\n    /**\n     * Trigger each added callback with the given arguments.\n     *\n     * @param  {Array}   args All the arguments to apply to the callback\n     * @return {Service}      The current instance\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.callbacks.forEach(function (callback) {\n        callback.apply(void 0, args);\n      });\n      return this;\n    }\n  }, {\n    key: \"props\",\n    get: function get() {\n      throw new Error('The `props` getter must be implemented.');\n    }\n  }]);\n\n  return Service;\n}();\n\nexport { Service as default };\n//# sourceMappingURL=Service.js.map","/**\n * Simple throttling helper that limits a\n * function to only run once every {delay}ms\n *\n * @param {Function} fn    The function to throttle\n * @param {Number}   delay The delay in ms\n */\nexport default function throttle(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n  var lastCall = 0;\n  return function () {\n    var now = new Date().getTime();\n\n    if (now - lastCall < delay) {\n      return false;\n    }\n\n    lastCall = now;\n    return fn.apply(void 0, arguments);\n  };\n}\n//# sourceMappingURL=throttle.js.map","/**\n * Returns a function, that, as long as it continues to be invoked,\n * will not be triggered. The function will be called after it stops\n * being called for N milliseconds.\n *\n * @param {Function} fn    The function to call\n * @param {Number}   delay The delay in ms to wait before calling the function\n */\nexport default function debounce(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn.apply(void 0, args);\n    }, delay);\n  };\n}\n//# sourceMappingURL=debounce.js.map","/**\n * RequestAnimation frame polyfill.\n * @see  https://github.com/vuejs/vue/blob/ec78fc8b6d03e59da669be1adf4b4b5abf670a34/dist/vue.runtime.esm.js#L7355\n * @type {Function}\n */\nexport var getRaf = function getRaf() {\n  return typeof window !== 'undefined' && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout;\n};\n/**\n * Execute a callback in the next frame.\n * @param  {Function} fn The callback function to execute.\n * @return {Promise}\n */\n\nexport default function nextFrame() {\n  var fn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n  var raf = getRaf();\n  return new Promise(function (resolve) {\n    raf(function () {\n      return raf(function () {\n        return resolve(fn());\n      });\n    });\n  });\n}\n//# sourceMappingURL=nextFrame.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Service from '../abstracts/Service';\nimport { getRaf } from '../utils/nextFrame';\n/**\n * Tick service\n *\n * ```\n * import { useRaf } from '@studiometa/js/services';\n * const { add, remove, props } = useRag();\n * add(id, (props) => {});\n * remove(id);\n * props();\n * ```\n */\n\nvar Raf = /*#__PURE__*/function (_Service) {\n  _inherits(Raf, _Service);\n\n  var _super = _createSuper(Raf);\n\n  function Raf() {\n    var _this;\n\n    _classCallCheck(this, Raf);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"isTicking\", false);\n\n    return _this;\n  }\n\n  _createClass(Raf, [{\n    key: \"init\",\n\n    /**\n     * Start the requestAnimationFrame loop.\n     *\n     * @return {void}\n     */\n    value: function init() {\n      var _this2 = this;\n\n      var raf = getRaf();\n\n      var loop = function loop() {\n        _this2.trigger(_this2.props);\n\n        if (!_this2.isTicking) {\n          return;\n        }\n\n        raf(loop);\n      };\n\n      this.isTicking = true;\n      loop();\n    }\n    /**\n     * Stop the requestAnimationFrame loop.\n     *\n     * @return {void}\n     */\n\n  }, {\n    key: \"kill\",\n    value: function kill() {\n      this.isTicking = false;\n    }\n    /**\n     * Get raf props.\n     *\n     * @todo Return elapsed time / index?\n     * @type {Object}\n     */\n\n  }, {\n    key: \"props\",\n    get: function get() {\n      return {\n        time: window.performance.now()\n      };\n    }\n  }]);\n\n  return Raf;\n}(Service);\n\nvar instance = null;\nexport default (function () {\n  if (!instance) {\n    instance = new Raf();\n  }\n\n  var add = instance.add.bind(instance);\n  var remove = instance.remove.bind(instance);\n  var has = instance.has.bind(instance);\n\n  var props = function props() {\n    return instance.props;\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    has: has,\n    props: props\n  };\n});\n//# sourceMappingURL=raf.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Service from '../abstracts/Service';\nimport throttle from '../utils/throttle';\nimport debounce from '../utils/debounce';\nimport useRaf from './raf';\n/**\n * Pointer service\n *\n * ```\n * import { usePointer } from '@studiometa/js/services';\n * const { add, remove, props } = usePointer();\n * add(key, (props) => {});\n * remove(key);\n * props();\n * ```\n */\n\nvar Pointer = /*#__PURE__*/function (_Service) {\n  _inherits(Pointer, _Service);\n\n  var _super = _createSuper(Pointer);\n\n  function Pointer() {\n    var _this;\n\n    _classCallCheck(this, Pointer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"isDown\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"y\", window.innerHeight / 2);\n\n    _defineProperty(_assertThisInitialized(_this), \"yLast\", window.innerHeight / 2);\n\n    _defineProperty(_assertThisInitialized(_this), \"x\", window.innerWidth / 2);\n\n    _defineProperty(_assertThisInitialized(_this), \"xLast\", window.innerWidth / 2);\n\n    return _this;\n  }\n\n  _createClass(Pointer, [{\n    key: \"init\",\n\n    /**\n     * Bind the handler to the mousemove and touchmove events.\n     * Bind the up and down handler to the mousedown, mouseup, touchstart and touchend events.\n     *\n     * @return {void}\n     */\n    value: function init() {\n      var _this2 = this;\n\n      var _useRaf = useRaf(),\n          add = _useRaf.add,\n          remove = _useRaf.remove;\n\n      this.hasRaf = false;\n      var debounced = debounce(function (event) {\n        _this2.updateValues(event);\n\n        remove('usePointer');\n\n        _this2.trigger(_this2.props);\n\n        _this2.hasRaf = false;\n      }, 50);\n      this.handler = throttle(function (event) {\n        _this2.updateValues(event);\n\n        if (!_this2.hasRaf) {\n          add('usePointer', function () {\n            _this2.trigger(_this2.props);\n          });\n          _this2.hasRaf = true;\n        } // Reset changed flags at the end of the mousemove or touchmove event\n\n\n        debounced(event);\n      }, 32).bind(this);\n      this.downHandler = this.downHandler.bind(this);\n      this.upHandler = this.upHandler.bind(this);\n      document.documentElement.addEventListener('mouseenter', this.handler, {\n        once: true\n      });\n      document.addEventListener('mousemove', this.handler, {\n        passive: true\n      });\n      document.addEventListener('touchmove', this.handler, {\n        passive: true\n      });\n      document.addEventListener('mousedown', this.downHandler, {\n        passive: true\n      });\n      document.addEventListener('touchstart', this.downHandler, {\n        passive: true\n      });\n      document.addEventListener('mouseup', this.upHandler, {\n        passive: true\n      });\n      document.addEventListener('touchend', this.upHandler, {\n        passive: true\n      });\n    }\n    /**\n     * Unbind all handlers from their bounded event.\n     *\n     * @return {void}\n     */\n\n  }, {\n    key: \"kill\",\n    value: function kill() {\n      document.removeEventListener('mousemove', this.handler);\n      document.removeEventListener('touchmove', this.handler);\n      document.removeEventListener('mousedown', this.downHandler);\n      document.removeEventListener('touchstart', this.downHandler);\n      document.removeEventListener('mouseup', this.upHandler);\n      document.removeEventListener('touchend', this.upHandler);\n    }\n    /**\n     * Handler for the pointer's down action.\n     *\n     * @return {void}\n     */\n\n  }, {\n    key: \"downHandler\",\n    value: function downHandler() {\n      this.isDown = true;\n      this.trigger(this.props);\n    }\n    /**\n     * Handler for the pointer's up action.\n     *\n     * @return {void}\n     */\n\n  }, {\n    key: \"upHandler\",\n    value: function upHandler() {\n      this.isDown = false;\n      this.trigger(this.props);\n    }\n    /**\n     * Update the pointer positions.\n     *\n     * @param  {Event} event The event object.\n     * @return {void}\n     */\n\n  }, {\n    key: \"updateValues\",\n    value: function updateValues(event) {\n      this.yLast = this.y;\n      this.xLast = this.x; // Check pointer Y\n      // We either get data from a touch event `event.touches[0].clientY` or from\n      // a mouse event `event.clientY`.\n\n      if (((event.touches || [])[0] || event || {}).clientY !== this.y) {\n        this.y = ((event.touches || [])[0] || event || {}).clientY;\n      } // Check pointer X\n      // We either get data from a touch event `event.touches[0].clientX` or from\n      // a mouse event `event.clientX`.\n\n\n      if (((event.touches || [])[0] || event || {}).clientX !== this.x) {\n        this.x = ((event.touches || [])[0] || event || {}).clientX;\n      }\n    }\n    /**\n     * Get the pointer props.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"props\",\n    get: function get() {\n      return {\n        isDown: this.isDown,\n        x: this.x,\n        y: this.y,\n        changed: {\n          x: this.x !== this.xLast,\n          y: this.y !== this.yLast\n        },\n        last: {\n          x: this.xLast,\n          y: this.yLast\n        },\n        delta: {\n          x: this.x - this.xLast,\n          y: this.y - this.yLast\n        },\n        progress: {\n          x: this.x / window.innerWidth,\n          y: this.y / window.innerHeight\n        },\n        max: {\n          x: window.innerWidth,\n          y: window.innerHeight\n        }\n      };\n    }\n  }]);\n\n  return Pointer;\n}(Service);\n\nvar pointer = null;\n/**\n * Use the pointer.\n *\n * ```js\n * import usePointer from '@studiometa/js-toolkit/services';\n * const { add, remove, props } = usePointer();\n * add('id', () => {});\n * remove('id');\n * props();\n * ```\n */\n\nexport default (function () {\n  if (!pointer) {\n    pointer = new Pointer();\n  }\n\n  var add = pointer.add.bind(pointer);\n  var remove = pointer.remove.bind(pointer);\n  var has = pointer.has.bind(pointer);\n\n  var props = function props() {\n    return pointer.props;\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    has: has,\n    props: props\n  };\n});\n//# sourceMappingURL=pointer.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Service from '../abstracts/Service';\nimport debounce from '../utils/debounce';\n/**\n * Resize service\n *\n * ```\n * import { useResize } from '@studiometa/js/services';\n * const { add, remove, props } = useResize();\n * add(key, (props) => {});\n * remove(key);\n * props();\n * ```\n */\n\nvar Resize = /*#__PURE__*/function (_Service) {\n  _inherits(Resize, _Service);\n\n  var _super = _createSuper(Resize);\n\n  function Resize() {\n    _classCallCheck(this, Resize);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Resize, [{\n    key: \"init\",\n\n    /**\n     * Bind the handler to the resize event.\n     *\n     * @return {void}\n     */\n    value: function init() {\n      var _this = this;\n\n      this.handler = debounce(function () {\n        _this.trigger(_this.props);\n      }).bind(this);\n\n      if (this.canUseResizeObserver) {\n        this.resizeObserver = new ResizeObserver(this.handler);\n        this.resizeObserver.observe(document.documentElement);\n      } else {\n        window.addEventListener('resize', this.handler);\n      }\n    }\n    /**\n     * Unbind the handler from the resize event.\n     *\n     * @return {void}\n     */\n\n  }, {\n    key: \"kill\",\n    value: function kill() {\n      if (this.canUseResizeObserver) {\n        this.resizeObserver.disconnect();\n      } else {\n        window.removeEventListener('resize', this.handler);\n      }\n\n      delete this.resizeObserver;\n    }\n    /**\n     * Get resize props.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"props\",\n    get: function get() {\n      var props = {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        ratio: window.innerWidth / window.innerHeight,\n        orientation: 'square'\n      };\n\n      if (props.ratio > 1) {\n        props.orientation = 'landscape';\n      }\n\n      if (props.ratio < 1) {\n        props.orientation = 'portrait';\n      }\n\n      if (this.breakpointElement) {\n        props.breakpoint = this.breakpoint;\n        props.breakpoints = this.breakpoints;\n      }\n\n      return props;\n    }\n    /**\n     * The element holding the breakpoints data.\n     * @return {HTMLElement}\n     */\n\n  }, {\n    key: \"breakpointElement\",\n    get: function get() {\n      return document.querySelector('[data-breakpoint]') || null;\n    }\n    /**\n     * Get the current breakpoint.\n     * @return {String}\n     */\n\n  }, {\n    key: \"breakpoint\",\n    get: function get() {\n      return window.getComputedStyle(this.breakpointElement, '::before').getPropertyValue('content').replace(/\"/g, '');\n    }\n    /**\n     * Get all breakpoints.\n     * @return {Array}\n     */\n\n  }, {\n    key: \"breakpoints\",\n    get: function get() {\n      var breakpoints = window.getComputedStyle(this.breakpointElement, '::after').getPropertyValue('content').replace(/\"/g, '');\n      return breakpoints.split(',');\n    }\n    /**\n     * Test if we can use the `ResizeObserver` API.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"canUseResizeObserver\",\n    get: function get() {\n      return typeof window.ResizeObserver !== 'undefined';\n    }\n  }]);\n\n  return Resize;\n}(Service);\n\nvar resize = null;\nexport default (function () {\n  if (!resize) {\n    resize = new Resize();\n  }\n\n  var add = resize.add.bind(resize);\n  var remove = resize.remove.bind(resize);\n  var has = resize.has.bind(resize);\n\n  var props = function props() {\n    return resize.props;\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    has: has,\n    props: props\n  };\n});\n//# sourceMappingURL=resize.js.map","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Service from '../abstracts/Service';\nimport throttle from '../utils/throttle';\nimport debounce from '../utils/debounce';\nimport nextFrame from '../utils/nextFrame';\n/**\n * Scroll service\n *\n * ```\n * import { useScroll } from '@studiometa/js-toolkit/services';\n * const { add, remove, props } = useScroll();\n * add(key, (props) => {});\n * remove(key);\n * props();\n * ```\n */\n\nvar Scroll = /*#__PURE__*/function (_Service) {\n  _inherits(Scroll, _Service);\n\n  var _super = _createSuper(Scroll);\n\n  function Scroll() {\n    var _this;\n\n    _classCallCheck(this, Scroll);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"y\", window.pageYOffset);\n\n    _defineProperty(_assertThisInitialized(_this), \"yLast\", window.pageYOffset);\n\n    _defineProperty(_assertThisInitialized(_this), \"x\", window.pageXOffset);\n\n    _defineProperty(_assertThisInitialized(_this), \"xLast\", window.pageXOffset);\n\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: \"init\",\n\n    /**\n     * Bind the handler to the scroll event.\n     *\n     * @return {void}\n     */\n    value: function init() {\n      var _this2 = this;\n\n      var debounced = debounce(function () {\n        _this2.trigger(_this2.props);\n\n        nextFrame(function () {\n          _this2.trigger(_this2.props);\n        });\n      }, 50);\n      this.handler = throttle(function () {\n        _this2.trigger(_this2.props); // Reset changed flags at the end of the scroll event\n\n\n        debounced();\n      }, 32).bind(this); // Fire the `scrolled` method on document scroll\n\n      document.addEventListener('scroll', this.handler, {\n        passive: true\n      });\n    }\n    /**\n     * Unbind the handler from the scroll event.\n     *\n     * @return {void}\n     */\n\n  }, {\n    key: \"kill\",\n    value: function kill() {\n      document.removeEventListener('scroll', this.handler);\n    }\n    /**\n     * Get scroll props.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"props\",\n    get: function get() {\n      this.yLast = this.y;\n      this.xLast = this.x; // Check scroll Y\n\n      if (window.pageYOffset !== this.y) {\n        this.y = window.pageYOffset;\n      } // Check scroll x\n\n\n      if (window.pageXOffset !== this.x) {\n        this.x = window.pageXOffset;\n      }\n\n      return {\n        x: this.x,\n        y: this.y,\n        changed: {\n          x: this.x !== this.xLast,\n          y: this.y !== this.yLast\n        },\n        last: {\n          x: this.xLast,\n          y: this.yLast\n        },\n        delta: {\n          x: this.x - this.xLast,\n          y: this.y - this.yLast\n        },\n        progress: {\n          x: this.max.x === 0 ? 1 : this.x / this.max.x,\n          y: this.max.y === 0 ? 1 : this.y / this.max.y\n        },\n        max: this.max\n      };\n    }\n    /**\n     * Get scroll max values.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"max\",\n    get: function get() {\n      return {\n        x: (document.scrollingElement || document.body).scrollWidth - window.innerWidth,\n        y: (document.scrollingElement || document.body).scrollHeight - window.innerHeight\n      };\n    }\n  }]);\n\n  return Scroll;\n}(Service);\n\nvar scroll = null;\nexport default (function () {\n  if (!scroll) {\n    scroll = new Scroll();\n  }\n\n  var add = scroll.add.bind(scroll);\n  var remove = scroll.remove.bind(scroll);\n  var has = scroll.has.bind(scroll);\n\n  var props = function props() {\n    return scroll.props;\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    has: has,\n    props: props\n  };\n});\n//# sourceMappingURL=scroll.js.map","export default {\n  ENTER: 13,\n  SPACE: 32,\n  TAB: 9,\n  ESC: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\n//# sourceMappingURL=keyCodes.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Service from '../abstracts/Service';\nimport keyCodes from '../utils/keyCodes';\n/**\n * Scroll service\n *\n * ```\n * import { useKey } from '@studiometa/js-toolkit/services';\n * const { add, remove, props } = useKey();\n * add(key, (props) => {});\n * remove(key);\n * props();\n * ```\n */\n\nvar Key = /*#__PURE__*/function (_Service) {\n  _inherits(Key, _Service);\n\n  var _super = _createSuper(Key);\n\n  function Key() {\n    var _this;\n\n    _classCallCheck(this, Key);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"event\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"triggered\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"previousEvent\", {});\n\n    return _this;\n  }\n\n  _createClass(Key, [{\n    key: \"init\",\n\n    /**\n     * Bind the handler to the keyboard event.\n     *\n     * @return {void}\n     */\n    value: function init() {\n      var _this2 = this;\n\n      this.handler = function (event) {\n        _this2.event = event;\n\n        _this2.trigger(_this2.props);\n      };\n\n      document.addEventListener('keydown', this.handler, {\n        passive: false\n      });\n      document.addEventListener('keyup', this.handler, {\n        passive: false\n      });\n    }\n    /**\n     * Unbind the handler from the keyboard event.\n     *\n     * @return {void}\n     */\n\n  }, {\n    key: \"kill\",\n    value: function kill() {\n      document.removeEventListener('keydown', this.handler);\n      document.removeEventListener('keyup', this.handler);\n    }\n    /**\n     * Get keyboard props.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"props\",\n    get: function get() {\n      var _this3 = this;\n\n      var keys = Object.entries(keyCodes).reduce(function (acc, _ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            name = _ref2[0],\n            code = _ref2[1];\n\n        acc[name] = code === _this3.event.keyCode;\n        return acc;\n      }, {});\n\n      if (!this.previousEvent.type) {\n        this.triggered = 0;\n      }\n\n      if (this.event.type === 'keydown' && this.previousEvent.type === 'keydown') {\n        this.triggered += 1;\n      } else {\n        this.triggered = 1;\n      }\n\n      this.previousEvent = this.event;\n      return _objectSpread({\n        event: this.event,\n        triggered: this.triggered,\n        direction: this.event.type === 'keydown' ? 'down' : 'up',\n        isUp: this.event.type === 'keyup',\n        isDown: this.event.type === 'keydown'\n      }, keys);\n    }\n  }]);\n\n  return Key;\n}(Service);\n\nvar key = null;\nexport default (function () {\n  if (!key) {\n    key = new Key();\n  }\n\n  var add = key.add.bind(key);\n  var remove = key.remove.bind(key);\n  var has = key.has.bind(key);\n\n  var props = function props() {\n    return key.props;\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    has: has,\n    props: props\n  };\n});\n//# sourceMappingURL=key.js.map","import usePointer from '../../services/pointer';\nimport useRaf from '../../services/raf';\nimport useResize from '../../services/resize';\nimport useScroll from '../../services/scroll';\nimport useKey from '../../services/key';\nimport { hasMethod, callMethod } from './utils';\n/**\n * Init the given service and bind it to the given instance.\n *\n * @param  {Base}     instance The Base instance.\n * @param  {String}   method   The instance to test for binding\n * @param  {Function} service  The service `use...` function\n * @return {Function}          A function to unbind the service\n */\n\nfunction initService(instance, method, service) {\n  if (!hasMethod(instance, method)) {\n    return function () {};\n  }\n\n  var _service = service(),\n      add = _service.add,\n      remove = _service.remove;\n\n  add(instance.$id, function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callMethod.apply(void 0, [instance, method].concat(args));\n  });\n  return function () {\n    return remove(instance.$id);\n  };\n}\n/**\n * Use the services.\n * @param  {Base} instance A Base class instance.\n * @return {Array}         A list of unbind methods.\n */\n\n\nexport default function bindServices(instance) {\n  var unbindMethods = [initService(instance, 'scrolled', useScroll), initService(instance, 'resized', useResize), initService(instance, 'ticked', useRaf), initService(instance, 'moved', usePointer), initService(instance, 'keyed', useKey)]; // Fire the `loaded` method on window load\n  // @todo remove this? or move it elsewhere?\n\n  if (hasMethod(instance, 'loaded')) {\n    var loadedHandler = function loadedHandler(event) {\n      callMethod(instance, 'loaded', {\n        event: event\n      });\n    };\n\n    window.addEventListener('load', loadedHandler);\n    unbindMethods.push(function () {\n      window.removeEventListener('load', loadedHandler);\n    });\n  }\n\n  return unbindMethods;\n}\n//# sourceMappingURL=services.js.map","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport getAllProperties from '../../utils/object/getAllProperties';\nimport { debug } from './utils';\n/**\n * Bind event handler methods to the root HTML element.\n *\n * @param  {Base}  instance     A Base instance.\n * @param  {Array} eventMethods A list of methods to bind.\n * @return {Array}              A list of unbind functions.\n */\n\nfunction bindRootEvents(instance, eventMethods) {\n  return eventMethods.map(function (eventMethod) {\n    var eventName = eventMethod.replace(/^on/, '').toLowerCase();\n\n    var handler = function handler() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      debug.apply(void 0, [instance, eventMethod, instance.$el].concat(args));\n      instance[eventMethod].apply(instance, args);\n    };\n\n    instance.$el.addEventListener(eventName, handler);\n    return function () {\n      instance.$el.removeEventListener(eventName, handler);\n    };\n  });\n}\n/**\n * Bind event handler methods to refs HTML element.\n *\n * @param  {Base}  instance     A Base instance.\n * @param  {Array} eventMethods A list of methods to bind.\n * @return {Array}              A list of unbind functions.\n */\n\n\nfunction bindRefsEvents(instance, eventMethods) {\n  var unbindMethods = [];\n  Object.entries(instance.$refs).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        refName = _ref2[0],\n        $refOrRefs = _ref2[1];\n\n    var $refs = Array.isArray($refOrRefs) ? $refOrRefs : [$refOrRefs];\n    var refEventMethod = \"on\".concat(refName.replace(/^\\w/, function (c) {\n      return c.toUpperCase();\n    }));\n    eventMethods.filter(function (eventMethod) {\n      return eventMethod.startsWith(refEventMethod);\n    }).forEach(function (eventMethod) {\n      $refs.forEach(function ($ref, index) {\n        var eventName = eventMethod.replace(refEventMethod, '').toLowerCase();\n\n        var handler = function handler() {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          debug.apply(void 0, [instance, eventMethod, $ref].concat(args, [index]));\n          instance[eventMethod].apply(instance, args.concat([index]));\n        };\n\n        debug(instance, 'binding ref event', refName, eventName);\n\n        if ($ref.constructor && $ref.constructor.__isBase__) {\n          // eslint-disable-next-line no-param-reassign\n          $ref = $ref.$el;\n        }\n\n        $ref.addEventListener(eventName, handler);\n\n        var unbindMethod = function unbindMethod() {\n          debug(instance, 'unbinding ref event', eventMethods);\n          $ref.removeEventListener(eventName, handler);\n        };\n\n        unbindMethods.push(unbindMethod);\n      });\n    });\n  });\n  return unbindMethods;\n}\n/**\n * Bind event handler methods to children Base instance.\n * @param  {Base}  instance     A Base instance.\n * @param  {Array} eventMethods A list of methods to bind.\n * @return {Array}              A list of unbind functions.\n */\n\n\nfunction bindChildrenEvents(instance, eventMethods) {\n  var unbindMethods = [];\n  Object.entries(instance.$children).forEach(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        childName = _ref4[0],\n        $children = _ref4[1];\n\n    var childEventMethod = \"on\".concat(childName.replace(/^\\w/, function (c) {\n      return c.toUpperCase();\n    }));\n    eventMethods.filter(function (eventMethod) {\n      return eventMethod.startsWith(childEventMethod);\n    }).forEach(function (eventMethod) {\n      $children.forEach(function ($child, index) {\n        var eventName = eventMethod.replace(childEventMethod, '').toLowerCase();\n\n        var handler = function handler() {\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          debug.apply(void 0, [instance, eventMethod, $child].concat(args, [index]));\n          instance[eventMethod].apply(instance, args.concat([index]));\n        };\n\n        debug(instance, 'binding child event', childName, eventName);\n        var unbindMethod = $child.$on(eventName, handler);\n        unbindMethods.push(function () {\n          debug(instance, 'unbinding child event', childName, eventName);\n          unbindMethod();\n        });\n      });\n    });\n  });\n  return unbindMethods;\n}\n/**\n * Bind ref and children component's events to their corresponding method.\n *\n * @param  {Base} instance  A Base instance.\n * @return {Array}          A list of methods to unbind the events.\n */\n\n\nexport default function bindEvents(instance) {\n  var ROOT_EVENT_REGEX = /^on[A-Z][a-z]+$/;\n  var REFS_CHILDREN_EVENT_REGEX = /^on([A-Z][a-z]+)([A-Z][a-z]+)+$/; // Get all event methods\n\n  var eventMethods = getAllProperties(instance).reduce(function (acc, _ref5) {\n    var _ref6 = _slicedToArray(_ref5, 1),\n        name = _ref6[0];\n\n    // Testing camelCase with one word: onEvent.\n    if (ROOT_EVENT_REGEX.test(name)) {\n      acc.root.push(name);\n      return acc;\n    } // Testing camelCase with more than two words: onRefEvent.\n\n\n    if (REFS_CHILDREN_EVENT_REGEX.test(name)) {\n      acc.refsOrChildren.push(name);\n    }\n\n    return acc;\n  }, {\n    root: [],\n    refsOrChildren: []\n  });\n  var unbindMethods = [].concat(_toConsumableArray(bindRootEvents(instance, eventMethods.root)), _toConsumableArray(bindRefsEvents(instance, eventMethods.refsOrChildren)), _toConsumableArray(bindChildrenEvents(instance, eventMethods.refsOrChildren)));\n  return unbindMethods;\n}\n//# sourceMappingURL=events.js.map","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport nanoid from 'nanoid/non-secure';\nimport autoBind from '../../utils/object/autoBind';\nimport EventManager from '../EventManager';\nimport { callMethod, debug } from './utils';\nimport { getChildren } from './children';\nimport { getOptions, setOptions } from './options';\nimport { getRefs } from './refs';\nimport { mountComponents, destroyComponents } from './components';\nimport bindServices from './services';\nimport bindEvents from './events';\n/**\n * Page lifecycle class\n *\n * @method mounted   Fired when the class is instantiated\n * @method loaded    Fired on the window's load event\n * @method ticked    Fired each frame with `requestAnimationFrame`\n * @method resized   Fired when the window is resized (`resize` event)\n * @method moved     Fired when the pointer has moved (`touchmove` and `mousemove` events)\n * @method scrolled  Fired with debounce when the document is scrolled (`scroll` event)\n * @method destroyed Fired when the window is being unloaded (`unload` event)\n */\n\nvar Base = /*#__PURE__*/function (_EventManager) {\n  _inherits(Base, _EventManager);\n\n  var _super = _createSuper(Base);\n\n  _createClass(Base, [{\n    key: \"$refs\",\n\n    /**\n     * Get the component's refs.\n     * @return {Object}\n     */\n    get: function get() {\n      return getRefs(this, this.$el);\n    }\n    /**\n     * Get the component's children components.\n     * @return {Object}\n     */\n\n  }, {\n    key: \"$children\",\n    get: function get() {\n      return getChildren(this, this.$el, this.config.components || {});\n    }\n    /**\n     * Get the component's merged config and options.\n     * @return {Object}\n     */\n\n  }, {\n    key: \"$options\",\n    get: function get() {\n      return getOptions(this, this.$el, this.config);\n    }\n    /**\n     * Set the components option.\n     * @param  {Object} value The new options values to merge with the old ones.\n     * @return {void}\n     */\n    ,\n    set: function set(newOptions) {\n      setOptions(this, this.$el, newOptions);\n    }\n    /**\n     * Class constructor where all the magic takes place.\n     *\n     * @param  {HTMLElement} element The component's root element.\n     * @return {Base}                A Base instance.\n     */\n\n  }]);\n\n  function Base(element) {\n    var _this;\n\n    _classCallCheck(this, Base);\n\n    _this = _super.call(this);\n\n    if (!_this.config) {\n      throw new Error('The `config` getter must be defined.');\n    }\n\n    if (!_this.config.name) {\n      throw new Error('The `config.name` property is required.');\n    }\n\n    if (!element) {\n      throw new Error('The root element must be defined.');\n    }\n\n    Object.defineProperties(_assertThisInitialized(_this), {\n      $id: {\n        value: \"\".concat(_this.config.name, \"-\").concat(nanoid())\n      },\n      $isMounted: {\n        value: false,\n        writable: true\n      },\n      $el: {\n        value: element\n      }\n    });\n\n    if (!_this.$el.__base__) {\n      Object.defineProperty(_this.$el, '__base__', {\n        get: function get() {\n          return _assertThisInitialized(_this);\n        },\n        configurable: true\n      });\n    } // Autobind all methods to the instance\n\n\n    autoBind(_assertThisInitialized(_this), {\n      exclude: ['$mount', '$destroy', '$log', '$on', '$once', '$off', '$emit', 'mounted', 'loaded', 'ticked', 'resized', 'moved', 'keyed', 'scrolled', 'destroyed'].concat(_toConsumableArray(_this._excludeFromAutoBind || []))\n    });\n    var unbindMethods = [];\n\n    _this.$on('mounted', function () {\n      mountComponents(_assertThisInitialized(_this));\n      unbindMethods = [].concat(_toConsumableArray(bindServices(_assertThisInitialized(_this))), _toConsumableArray(bindEvents(_assertThisInitialized(_this))));\n      _this.$isMounted = true;\n    });\n\n    _this.$on('updated', function () {\n      unbindMethods.forEach(function (method) {\n        return method();\n      });\n      mountComponents(_assertThisInitialized(_this));\n      unbindMethods = [].concat(_toConsumableArray(bindServices(_assertThisInitialized(_this))), _toConsumableArray(bindEvents(_assertThisInitialized(_this))));\n    });\n\n    _this.$on('destroyed', function () {\n      _this.$isMounted = false;\n      unbindMethods.forEach(function (method) {\n        return method();\n      });\n      destroyComponents(_assertThisInitialized(_this));\n    }); // Mount class which are not used as another component's child.\n\n\n    if (!_this.__isChild__) {\n      _this.$mount();\n\n      Object.defineProperty(_assertThisInitialized(_this), '$parent', {\n        get: function get() {\n          return null;\n        }\n      });\n    }\n\n    debug(_assertThisInitialized(_this), 'constructor', _assertThisInitialized(_this));\n    return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n  }\n  /**\n   * Small helper to log stuff.\n   *\n   * @param  {...any} args The arguments passed to the method\n   * @return {void}\n   */\n\n\n  _createClass(Base, [{\n    key: \"$log\",\n    value: function $log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.$options.log ? window.console.log.apply(window, [this.config.name].concat(args)) : function () {};\n    }\n    /**\n     * Trigger the `mounted` callback.\n     */\n\n  }, {\n    key: \"$mount\",\n    value: function $mount() {\n      debug(this, '$mount');\n      callMethod(this, 'mounted');\n      return this;\n    }\n    /**\n     * Update the instance children.\n     */\n\n  }, {\n    key: \"$update\",\n    value: function $update() {\n      debug(this, '$update');\n      callMethod(this, 'updated');\n      return this;\n    }\n    /**\n     * Trigger the `destroyed` callback.\n     */\n\n  }, {\n    key: \"$destroy\",\n    value: function $destroy() {\n      debug(this, '$destroy');\n      callMethod(this, 'destroyed');\n      return this;\n    }\n    /**\n     * Terminate a child instance when it is not needed anymore.\n     * @return {void}\n     */\n\n  }, {\n    key: \"$terminate\",\n    value: function $terminate() {\n      debug(this, '$terminate'); // First, destroy the component.\n\n      this.$destroy(); // Execute the `terminated` hook if it exists\n\n      callMethod(this, 'terminated'); // Delete the reference to the instance\n\n      delete this.$el.__base__; // And update its status to prevent re-instantiation when accessing the\n      // parent's `$children` property\n\n      Object.defineProperty(this.$el, '__base__', {\n        value: 'terminated',\n        configurable: false,\n        writable: false\n      });\n    }\n  }]);\n\n  return Base;\n}(EventManager);\n\nexport { Base as default };\nBase.__isBase__ = true;\n//# sourceMappingURL=index.js.map","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport getAllProperties from './getAllProperties';\n/**\n * Auto-bind methods to an instance.\n *\n * @param  {Object}               instance        The instance.\n * @param  {Array<String|RegExp>} options.include Methods to include.\n * @param  {Array<String|RegExp>} options.exclude Methods to exclude.\n * @return {Object}                               The instance.\n */\n\nexport default function autoBind(instance) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      include = _ref.include,\n      exclude = _ref.exclude;\n\n  var filter = function filter(key) {\n    var match = function match(pattern) {\n      return typeof pattern === 'string' ? key === pattern : pattern.test(key);\n    };\n\n    if (include) {\n      return include.some(match);\n    }\n\n    if (exclude) {\n      return !exclude.some(match);\n    }\n\n    return true;\n  };\n\n  getAllProperties(instance).filter(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 1),\n        key = _ref3[0];\n\n    return key !== 'constructor' && filter(key);\n  }).forEach(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        key = _ref5[0],\n        object = _ref5[1];\n\n    var descriptor = Object.getOwnPropertyDescriptor(object, key);\n\n    if (descriptor && typeof descriptor.value === 'function') {\n      instance[key] = instance[key].bind(instance);\n    }\n  });\n  return instance;\n}\n//# sourceMappingURL=autoBind.js.map","import Base from '@studiometa/js-toolkit';\n\n/**\n * App class.\n * @license MIT Â© 2020 Studio Meta\n */\nclass App extends Base {\n  /**\n   * App configuration.\n   */\n  get config() {\n    return {\n      name: 'App',\n    };\n  }\n\n  /**\n   * Mounted hook.\n   */\n  mounted() {\n    this.content = 'mounted';\n  }\n\n  /**\n   * Resized hook.\n   */\n  resized() {\n    this.content = 'resized';\n  }\n\n  /**\n   * Set the component's content.\n   * @param {String} value The content to add.\n   */\n  set content(value) {\n    this.$el.innerHTML += `<br>${value}`;\n  }\n}\n\nexport default new App(document.querySelector('main'));\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import Base from './abstracts/Base';\nexport default Base;\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}